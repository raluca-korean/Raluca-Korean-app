<!doctype html>
<html lang="ro">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Raluca Korean â€” Glosar</title>

<style>
:root{
  --card: rgba(16,14,40,.75);
  --stroke: rgba(255,255,255,.12);
  --text:#f3f4ff;
  --muted: rgba(243,244,255,.7);
  --accent:#7c3aed;
  --radius:22px;
  --shadow:0 18px 50px rgba(0,0,0,.45);
}

*{box-sizing:border-box}
body{
  margin:0;
  font-family:system-ui,-apple-system,Segoe UI,Roboto;
  background:linear-gradient(135deg,#090818,#071425);
  color:var(--text);
}

.app{max-width:900px;margin:0 auto;padding:20px}

.card{
  background:var(--card);
  border:1px solid var(--stroke);
  border-radius:var(--radius);
  padding:18px;
  margin-bottom:18px;
  box-shadow:var(--shadow);
}

h1{margin:0 0 6px}
.sub{font-size:13px;color:var(--muted)}

input{
  width:100%;
  padding:12px 14px;
  border-radius:14px;
  border:1px solid var(--stroke);
  background:rgba(10,8,28,.55);
  color:var(--text);
}

.word{
  display:flex;
  justify-content:space-between;
  gap:12px;
  padding:12px;
  border-radius:14px;
  border:1px solid var(--stroke);
  background:rgba(10,8,28,.55);
  margin-bottom:8px;
}

.ko{font-weight:900;font-size:18px}
.ro{font-size:13px;color:var(--muted)}

.actions{display:flex;gap:10px}
.icon{cursor:pointer}
.star.active{color:#facc15}

button{
  padding:8px 14px;
  border-radius:999px;
  border:none;
  background:linear-gradient(135deg,#22d3ee,#7c3aed);
  color:#000;
  font-weight:800;
  cursor:pointer;
}
</style>
</head>

<body>
<div class="app">

<div class="card">
  <h1>Glosar Korean</h1>
  <div class="sub">PronunÈ›ie Â· Favorite Â· Context real</div>
</div>

<!-- 3 CUVINTE PE ZI -->
<div class="card" id="dailyCard"></div>

<!-- SEARCH -->
<div class="card">
  <input id="search" placeholder="CautÄƒ (KO / RO)">
</div>

<!-- LIST -->
<div class="card">
  <div class="sub" id="count"></div>
  <div id="list"></div>
</div>

</div>

<script>
/* ================= DATA ================= */
const WORDS = [
  {ko:"ê°€ë‹¤", ro:"a merge"},
  {ko:"ì˜¤ë‹¤", ro:"a veni"},
  {ko:"ë¨¹ë‹¤", ro:"a mÃ¢nca"},
  {ko:"ë§ˆì‹œë‹¤", ro:"a bea"},
  {ko:"ê³µë¶€í•˜ë‹¤", ro:"a studia"},
  {ko:"íšŒì‚¬", ro:"companie"},
  {ko:"ì§‘", ro:"casÄƒ"},
  {ko:"ì‹œê°„", ro:"timp"},
  {ko:"ì¹œêµ¬", ro:"prieten"},
  {ko:"ì˜¤ëŠ˜", ro:"astÄƒzi"}
];

/* ================= FAVORITE ================= */
const getFavs = ()=>JSON.parse(localStorage.getItem("FAV_WORDS")||"[]");
const isFav = ko=>getFavs().includes(ko);
function toggleFav(ko){
  const f = getFavs();
  localStorage.setItem("FAV_WORDS",
    JSON.stringify(f.includes(ko)?f.filter(x=>x!==ko):[...f,ko])
  );
  render();
  renderDailyView();
}

/* ================= TTS ================= */
function speakKO(text){
  const u=new SpeechSynthesisUtterance(text);
  u.lang="ko-KR"; u.rate=0.9;
  speechSynthesis.cancel(); speechSynthesis.speak(u);
}

/* ================= YOUGLISH ================= */
const openYouGlish=w=>window.open(
  `https://youglish.com/pronounce/${encodeURIComponent(w)}/korean`,"_blank");

/* ================= 3 CUVINTE ================= */
let daily=[], dailyIndex=0, dailyHTML="";

function pickDaily(){
  daily=[...WORDS].sort(()=>0.5-Math.random()).slice(0,3);
}

function renderDailyView(){
  const c=document.getElementById("dailyCard");
  c.innerHTML=`
    <h3>ğŸ“… 3 cuvinte pe zi</h3>
    ${daily.map(w=>`
      <div class="word">
        <div><div class="ko">${w.ko}</div><div class="ro">${w.ro}</div></div>
        <div class="actions">
          <span class="icon" onclick="speakKO('${w.ko}')">ğŸ”ˆ</span>
          <span class="icon" onclick="openYouGlish('${w.ko}')">ğŸ¥</span>
          <span class="icon star ${isFav(w.ko)?'active':''}"
            onclick="toggleFav('${w.ko}')">â­</span>
        </div>
      </div>`).join("")}
    <div style="display:flex;gap:10px;flex-wrap:wrap">
      <button onclick="playDaily()">ğŸ”Š PronunÈ›ie</button>
      <button onclick="startQuiz()">ğŸ§  ExerseazÄƒ</button>
      <button onclick="refreshDaily()">ğŸ” Alte cuvinte</button>
    </div>`;
  dailyHTML=c.innerHTML;
}

function playDaily(){
  daily.forEach((w,i)=>setTimeout(()=>speakKO(w.ko),i*1200));
}

function startQuiz(){ dailyIndex=0; showQ(); }

function showQ(){
  const c=document.getElementById("dailyCard");
  if(dailyIndex>=daily.length){
    c.innerHTML=`<h3>ğŸ‰ Gata!</h3><button onclick="exitQuiz()">â¬… Ãnapoi</button>`;
    return;
  }
  const w=daily[dailyIndex];
  let opts=[w.ro,...WORDS.map(x=>x.ro)].sort(()=>0.5-Math.random()).slice(0,3);
  c.innerHTML=`
    <h3>ğŸ§  Ce Ã®nseamnÄƒ:</h3>
    <div class="ko">${w.ko}</div>
    ${opts.map(o=>`<button onclick="checkQ('${o}','${w.ro}')">${o}</button>`).join("")}
    <br><button onclick="exitQuiz()">â¬… Ãnapoi</button>`;
}

function checkQ(a,b){ a===b?(dailyIndex++,showQ()):alert("âŒ Mai Ã®ncearcÄƒ"); }
const exitQuiz=()=>document.getElementById("dailyCard").innerHTML=dailyHTML;
const refreshDaily=()=>{pickDaily();renderDailyView();};

/* ================= LIST ================= */
const list=document.getElementById("list");
const count=document.getElementById("count");
const search=document.getElementById("search");

function render(){
  const q=search.value.toLowerCase();
  const f=WORDS.filter(w=>w.ko.includes(q)||w.ro.includes(q));
  count.textContent=`${f.length} cuvinte`;
  list.innerHTML=f.map(w=>`
    <div class="word">
      <div><div class="ko">${w.ko}</div><div class="ro">${w.ro}</div></div>
      <div class="actions">
        <span class="icon" onclick="speakKO('${w.ko}')">ğŸ”ˆ</span>
        <span class="icon" onclick="openYouGlish('${w.ko}')">ğŸ¥</span>
        <span class="icon star ${isFav(w.ko)?'active':''}"
          onclick="toggleFav('${w.ko}')">â­</span>
      </div>
    </div>`).join("");
}

search.oninput=render;

/* INIT */
pickDaily();
renderDailyView();
render();
</script>
</body>
</html>
