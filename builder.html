<!DOCTYPE html>
<html lang="ro">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Raluca Korean ‚Äì Builder</title>

<style>
/* ================== BASE ================== */
*{box-sizing:border-box}
body{
  margin:0;
  font-family:system-ui,-apple-system,Segoe UI,Roboto;
  background:linear-gradient(120deg,#dff3ff,#ffe9ff,#f4fffc);
  color:#2f343b;
}
.app{max-width:1100px;margin:0 auto;padding:18px 14px 80px}

/* ================== HEADER ================== */
.header{
  padding:14px 18px;
  border-radius:26px;
  background:linear-gradient(120deg,#6fb8ff,#a774ff,#ff7fd1);
  color:#fff;
  box-shadow:0 18px 45px rgba(77,93,255,.4);
}
.header h1{margin:0;font-size:20px;font-weight:900;letter-spacing:.06em}
.header p{margin:6px 0 0;font-size:12px}

/* ================== CARDS ================== */
.card{
  margin-top:16px;
  padding:16px 18px;
  border-radius:22px;
  background:rgba(255,255,255,.8);
  border:1px solid rgba(255,255,255,.7);
  box-shadow:0 16px 32px rgba(0,0,0,.12);
}
.card h2{margin:0 0 8px;font-size:16px;font-weight:800}

/* ================== BUTTONS ================== */
.btn-row{display:flex;gap:10px;flex-wrap:wrap;margin-top:10px}
button{
  border:none;
  border-radius:999px;
  padding:8px 16px;
  font-size:12px;
  font-weight:900;
  cursor:pointer;
  color:#fff;
  background:linear-gradient(135deg,#6b8cff,#9b6bff);
  box-shadow:0 10px 24px rgba(108,110,210,.4);
}
button.secondary{background:linear-gradient(135deg,#ff9a6c,#ff5f8c)}
button:active{transform:scale(.97)}

/* ================== TABLE ================== */
.table-block{
  margin-top:14px;
  padding:12px;
  border-radius:22px;
  background:rgba(255,255,255,.75);
  border:1px solid rgba(255,255,255,.7);
  box-shadow:0 14px 30px rgba(0,0,0,.12);
}
.table-title{
  display:flex;
  justify-content:space-between;
  font-size:12px;
  font-weight:900;
  color:#4b607d;
  margin-bottom:8px;
}
.table-horizontal{
  display:flex;
  gap:8px;
  overflow-x:auto;
  padding-bottom:6px;
}
.col{
  min-width:120px;
  max-width:150px;
  padding:8px;
  border-radius:16px;
  background:radial-gradient(circle at top left,#fdfbf7,#f2ebde);
  border:1px solid #e2d7c8;
  box-shadow:0 10px 22px rgba(95,78,58,.16);
}
.col-header{
  font-size:10px;
  font-weight:900;
  letter-spacing:.08em;
  color:#7b5dff;
}
.col-hint{font-size:10px;color:#938777}
.col-main{
  font-size:15px;
  font-weight:900;
  min-height:1.4em;
  outline:none;
}
.col-main:focus{
  box-shadow:0 0 0 2px rgba(149,120,255,.6);
  border-radius:6px;
}
.col-example{font-size:10px;color:#b09b83}

/* ================== PREVIEW ================== */
.preview{
  margin-top:18px;
  padding:14px 16px;
  border-radius:20px;
  background:rgba(255,255,255,.85);
  border:1px solid rgba(255,255,255,.7);
}
.preview h3{margin:0 0 6px;font-size:14px}
.preview-sentence{
  font-size:22px;
  font-weight:900;
  line-height:1.6;
}
.preview-info{font-size:12px;color:#7a8088}
</style>
</head>

<body>
<div class="app">

  <!-- HEADER -->
  <div class="header">
    <h1>RALUCA KOREAN ‚Äì BUILDER</h1>
    <p>Construie»ôte propozi»õii coreene pe clauze (TOPIK 1‚Äì4)</p>
  </div>

  <!-- CONTROLS -->
  <div class="card">
    <h2>Clauze</h2>
    <div class="btn-row">
      <button onclick="addClause()">‚ûï AdaugƒÉ clauzƒÉ</button>
      <button class="secondary" onclick="removeClause()">‚ûñ »òterge clauzƒÉ</button>
      <label style="display:flex;align-items:center;gap:6px;font-weight:900">
        <input type="checkbox" id="politeToggle"/>
        Polite»õe (ultima clauzƒÉ)
      </label>
    </div>
  </div>

  <!-- TABLES -->
  <div id="clauses"></div>

  <!-- PREVIEW -->
  <div class="preview">
    <h3>Propozi»õia finalƒÉ</h3>
    <div id="previewSentence" class="preview-sentence">Ï†Ä Í∞ÄÎã§</div>
    <div class="preview-info">
      Verb infinitiv √Æn tabel ¬∑ ending √Æn CONJ ¬∑ polite doar √Æn preview
    </div>
  </div>

</div>

<script>
/* ================== BUILDER ================== */
const host = document.getElementById("clauses");

function clauseHTML(i){
  return `
  <section class="table-block" data-index="${i}">
    <div class="table-title">
      <span>Propozi»õia ${i+1}</span>
      <span>VERB infinitiv ¬∑ CONJ ending</span>
    </div>
    <div class="table-horizontal">
      ${col("üë§ SUBJECT","eu","subject")}
      ${col("‚è∞ TIME","azi","time")}
      ${col("üìç PLACE","loc","place")}
      ${col("‚ú® MOD","cum","mod")}
      ${col("üéØ OBJECT","ce","object")}
      ${col("#Ô∏è‚É£ NUM","c√¢t","num")}
      ${col("üî¢ CNT","unit","cnt")}
      ${col("üöÄ VERB","‚Ä¶Îã§","verb")}
      ${col("üîó CONJ","-Í≥†","conj")}
    </div>
  </section>`;
}
function col(title,hint,key){
  return `
  <div class="col" data-key="${key}">
    <div class="col-header">${title}</div>
    <div class="col-hint">${hint}</div>
    <div class="col-main" contenteditable oninput="buildPreview()"></div>
    <div class="col-example"></div>
  </div>`;
}

/* ================== STATE ================== */
let clauseCount = 1;

/* ================== ACTIONS ================== */
function render(){
  host.innerHTML="";
  for(let i=0;i<clauseCount;i++){
    host.insertAdjacentHTML("beforeend", clauseHTML(i));
  }
  buildPreview();
}
function addClause(){ clauseCount++; render(); }
function removeClause(){
  if(clauseCount>1){ clauseCount--; render(); }
}

/* ================== PREVIEW ================== */
function buildPreview(){
  const polite = document.getElementById("politeToggle").checked;
  const parts=[];
  [...host.children].forEach((block,i)=>{
    const get=k=>block.querySelector(`[data-key="${k}"] .col-main`).textContent.trim();
    let verb=get("verb");
    let conj=get("conj");
    if(politenessNeeded(i,polite,conj,verb)) verb=toPolite(verb);
    const chunk=[get("subject"),get("time"),get("place"),get("mod"),get("object"),verb+conj]
      .filter(Boolean).join(" ");
    if(chunk) parts.push(chunk);
  });
  document.getElementById("previewSentence").textContent =
    parts.join(" ") || "Ï†Ä Í∞ÄÎã§";
}
function politenessNeeded(i,polite,conj,verb){
  return polite && i===clauseCount-1 && !conj && verb.endsWith("Îã§");
}
function toPolite(v){
  if(!v.endsWith("Îã§")) return v;
  const stem=v.slice(0,-1);
  if(stem.endsWith("Ìïò")) return stem.slice(0,-1)+"Ìï¥Ïöî";
  return stem+"Ïñ¥Ïöî";
}

/* INIT */
render();
</script>
</body>
</html>
