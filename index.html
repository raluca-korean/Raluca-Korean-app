<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>Raluca Korean Table – Sentences</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    :root {
      --bg: #f7f3ff;
      --card-bg: #ffffff;
      --accent: #c9b5ff;
      --accent-strong: #9b7cff;
      --text-main: #333333;
      --text-soft: #666666;
      --border: #e0d7ff;
      --dimmed-bg: #f2eefc;
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      padding: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
        sans-serif;
      background: radial-gradient(circle at top, #fdfbff, #f4f0ff);
      color: var(--text-main);
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }

    .app {
      max-width: 1000px;
      margin: 0 auto;
      padding: 10px 10px 18px;
      display: flex;
      flex-direction: column;
      gap: 10px;
      height: 100vh;
    }

    header {
      text-align: center;
      padding: 4px 8px 4px;
    }

    header h1 {
      font-size: 18px;
      margin: 2px 0;
      font-weight: 700;
      color: var(--accent-strong);
    }

    header p {
      margin: 0;
      font-size: 11px;
      color: var(--text-soft);
    }

    .mode-panel {
      background: var(--card-bg);
      border-radius: 12px;
      border: 1px solid var(--border);
      padding: 6px 8px;
      font-size: 11px;
      display: flex;
      flex-direction: column;
      gap: 4px;
      box-shadow: 0 4px 12px rgba(120, 96, 190, 0.08);
    }

    .mode-row {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      align-items: center;
      justify-content: space-between;
    }

    .mode-row label {
      font-size: 11px;
      display: flex;
      align-items: center;
      gap: 4px;
    }

    .part-toggles {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
    }

    .chip {
      display: inline-flex;
      align-items: center;
      gap: 3px;
      padding: 3px 8px;
      border-radius: 999px;
      background: #ede7ff;
      color: var(--accent-strong);
      font-size: 10px;
      cursor: pointer;
    }

    .chip input {
      margin: 0;
    }

    .section-label {
      font-size: 11px;
      font-weight: 600;
      color: var(--accent-strong);
      margin-top: 2px;
    }

    .table-block {
      background: var(--card-bg);
      border-radius: 14px;
      padding: 8px;
      box-shadow: 0 6px 16px rgba(120, 96, 190, 0.12);
      border: 1px solid var(--border);
      display: flex;
      flex-direction: column;
      gap: 6px;
      flex: 1;
      min-height: 0;
    }

    .table-title {
      font-size: 11px;
      font-weight: 600;
      color: var(--text-soft);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .table-horizontal {
      display: flex;
      flex-direction: row;
      overflow-x: auto;
      padding-bottom: 4px;
      gap: 6px;
    }

    .col {
      min-width: 110px;
      max-width: 140px;
      flex: 0 0 auto;
      background: #faf8ff;
      border-radius: 10px;
      border: 1px solid var(--border);
      display: flex;
      flex-direction: column;
      padding: 6px 6px 8px;
      transition: 0.2s;
    }

    .col-header {
      font-size: 11px;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.06em;
      color: var(--accent-strong);
      margin-bottom: 4px;
      border-bottom: 1px solid var(--border);
      padding-bottom: 3px;
    }

    .col-body-label {
      font-size: 10px;
      color: var(--text-soft);
      margin-bottom: 2px;
    }

    .col-body-main {
      font-size: 15px;
      font-weight: 600;
      margin-bottom: 2px;
    }

    .col-body-extra {
      font-size: 11px;
      color: var(--text-soft);
    }

    .dimmed {
      opacity: 0.35;
      background-image: repeating-linear-gradient(
        -45deg,
        var(--dimmed-bg),
        var(--dimmed-bg) 4px,
        #fdfbff 4px,
        #fdfbff 8px
      );
    }

    .controls {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 8px;
      padding-top: 4px;
      border-top: 1px dashed var(--border);
    }

    .btn-group {
      display: flex;
      gap: 6px;
    }

    button {
      border-radius: 999px;
      border: none;
      padding: 6px 10px;
      font-size: 12px;
      font-weight: 600;
      cursor: pointer;
      background: var(--accent);
      color: #fff;
      display: inline-flex;
      align-items: center;
      gap: 4px;
      box-shadow: 0 2px 6px rgba(90, 70, 160, 0.25);
    }

    button.secondary {
      background: #ede7ff;
      color: var(--accent-strong);
      box-shadow: none;
    }

    button:disabled {
      opacity: 0.4;
      box-shadow: none;
      cursor: default;
    }

    .page-indicator {
      font-size: 11px;
      color: var(--text-soft);
    }

    .legend {
      font-size: 10px;
      color: var(--text-soft);
      text-align: center;
      padding: 2px 4px 0;
    }

    .hidden {
      display: none !important;
    }

    @media (max-width: 600px) {
      header h1 { font-size: 16px; }
      .col { min-width: 95px; }
    }
  </style>
</head>
<body>
  <div class="app">
    <header>
      <h1>Raluca Korean – Sentence Builder</h1>
      <p>Vezi ce părți de propoziție folosești (Propoziția 1 & Fraza / Propoziția 2)</p>
    </header>

    <!-- Panou de control: ce părți folosesc Propoziția 1 și Propoziția 2 -->
    <div class="mode-panel">
      <div class="mode-row">
        <span class="section-label">Propoziția 1 – ce părți folosește?</span>
        <div class="part-toggles" id="togglesP1"></div>
      </div>
      <div class="mode-row">
        <label>
          <input type="checkbox" id="enableP2" />
          Activează Propoziția 2 (fraza)
        </label>
        <div class="part-toggles" id="togglesP2"></div>
      </div>
    </div>

    <!-- Bloc tabele propoziția 1 + propoziția 2 -->
    <div class="table-block">
      <div class="table-title">
        <span>Propoziția 1</span>
        <span id="pageInfo"></span>
      </div>
      <div class="table-horizontal" id="tableP1"></div>

      <div class="table-title hidden" id="titleP2">
        <span>Propoziția 2 (continuare / frază)</span>
      </div>
      <div class="table-horizontal hidden" id="tableP2"></div>

      <div class="controls">
        <div class="btn-group">
          <button id="prevBtn">⬅ Prev</button>
          <button id="nextBtn">Next ➡</button>
        </div>
        <button class="secondary" id="resetBtn">Reset părți de propoziție</button>
      </div>
      <div class="legend">
        Bifează ce părți folosește propoziția ta. Coloanele nebifate se „hașurează”.
        Dacă ai o gramatică de legătură, activează Propoziția 2 și setează părțile ei.
      </div>
    </div>
  </div>

  <script>
    // Datele – la fel ca în versiunea ta anterioară
    const subjects = [
      "저","나","너","우리","너희","사람","학생","선생님","직원","전문가","지원자","관리자",
      "부모님","아이","어른","시민","고객","의사","간호사","연구자","관계자","대표","회장",
      "사용자","참가자","운전자","주민","환자"
    ];

    const times = [
      "오늘","어제","내일","지금","방금","조금 후에","곧","최근에","요즘","마침내","결국",
      "이전에","이후에","당시에","한동안","계속","가끔","항상","자주","점점","차츰","일찍","늦게"
    ];

    const places = [
      "집","학교","회사","식당","카페","도서관","병원","시장","백화점","공항","기차역",
      "버스정류장","연구소","기관","지역사회","환경","대기업","회의실","법원","경찰서",
      "해변","산","공원","은행"
    ];

    const mods = [
      "잘","열심히","조용히","천천히","빨리","정말","아주","너무","많이","조금","갑자기","미리",
      "벌써","아까","방금","금방","곧","항상","자주","가끔","드물게","상당히","꽤","도대체","절대로",
      "적극적으로","충분히","특히","오히려","점점","차츰","계속"
    ];

    const objects = [
      "책","커피","물","음식","영화","가방","전화","옷","자료","데이터","계획","조건","상황","문제",
      "해결책","요약","보고서","문서","컴퓨터","노트북","편지","선물","의견","정보","관계","결과",
      "원인","방법","제품","서비스","정책","문화"
    ];

    const numerals = new Array(60).fill("");

    const counters = [
      "개","명","권","장","대","병","잔","마리","번","살","평","송이","줄","점","건","회","가지","쪽"
    ];

    const verbs = [
      "가다","오다","먹다","마시다","보다","읽다","쓰다","배우다","사다","주다","받다","일하다",
      "공부하다","요리하다","청소하다","준비하다","도와주다","사용하다","필요하다","좋아하다",
      "싫어하다","기다리다","쉬다","만나다","걷다","달리다","앉다","서다","결정하다","제안하다",
      "전달하다","유지하다","발생하다","증가하다","감소하다","인정하다","분석하다","관찰하다",
      "해결하다","연구하다","협력하다","요청하다","충족하다","비교하다","설명하다","예상하다"
    ];

    const conjugations = [
      "-아요/어요","-았어요/었어요","-고 있어요","-고 싶어요","-(으)세요","-(으)ㄹ 거예요","-지 마세요",
      "-아/어 주세요","-아/어야 돼요","-(으)ㄹ 수 있어요","-(으)ㄹ 수 없어요","-더라고요","-네요","-군요",
      "-고 나서","-기 전에","-(으)면서","-(으)ㄹ지도 몰라요","-(으)ㄹ게요","-(으)ㄹ래요?","-(으)ㄹ까요?",
      "-는 게 어때요?","-는 중이에요","-아/어도 돼요","-(으)면 안 돼요","-(으)며","-(으)나","-(으)므로",
      "-(으)ㄴ/는 만큼","-(으)ㄹ수록","-(으)ㄴ/는데도","-(으)ㄹ지라도","-(으)ㄴ/는 반면에","-도록 하다",
      "-게 되다","-아/어지다","-기 마련이다","-기에","-길래","-고 말다","-고자 하다","-(으)ㄹ 뿐이다"
    ];

    const columns = [
      { key: "subject",    title: "SUBJECT",   ko: "주어",   data: subjects,    hint: "Cine?" },
      { key: "time",       title: "TIME",      ko: "시간",   data: times,       hint: "Când?" },
      { key: "place",      title: "PLACE",     ko: "장소",   data: places,      hint: "Unde?" },
      { key: "mod",        title: "MOD",       ko: "방법",   data: mods,        hint: "Cum?" },
      { key: "object",     title: "OBJECT",    ko: "목적어", data: objects,     hint: "Ce?" },
      { key: "numeral",    title: "NUMERAL",   ko: "",      data: numerals,    hint: "Număr" },
      { key: "counter",    title: "COUNTER",   ko: "수량사", data: counters,    hint: "Clasificator" },
      { key: "verb",       title: "VERB",      ko: "동사",   data: verbs,       hint: "Acțiune" },
      { key: "conjug",     title: "CONJUGĂRI", ko: "",      data: conjugations,hint: "Formă" }
    ];

    const maxLen = Math.max(...columns.map(c => c.data.length));

    let index = 0;

    const tableP1 = document.getElementById("tableP1");
    const tableP2 = document.getElementById("tableP2");
    const titleP2 = document.getElementById("titleP2");
    const pageInfoEl = document.getElementById("pageInfo");
    const prevBtn = document.getElementById("prevBtn");
    const nextBtn = document.getElementById("nextBtn");
    const resetBtn = document.getElementById("resetBtn");
    const enableP2 = document.getElementById("enableP2");
    const togglesP1 = document.getElementById("togglesP1");
    const togglesP2 = document.getElementById("togglesP2");

    // starea: care părți sunt folosite în propoziția 1 și 2
    const activeP1 = {};
    const activeP2 = {};

    columns.forEach(col => {
      activeP1[col.key] = true; // implicit le folosim pe toate
      activeP2[col.key] = true;
    });

    function createToggleChips() {
      columns.forEach(col => {
        const chip1 = document.createElement("label");
        chip1.className = "chip";
        const cb1 = document.createElement("input");
        cb1.type = "checkbox";
        cb1.checked = true;
        cb1.dataset.key = col.key;
        cb1.dataset.clause = "p1";
        chip1.appendChild(cb1);
        chip1.append(col.title);
        togglesP1.appendChild(chip1);

        const chip2 = document.createElement("label");
        chip2.className = "chip";
        const cb2 = document.createElement("input");
        cb2.type = "checkbox";
        cb2.checked = true;
        cb2.dataset.key = col.key;
        cb2.dataset.clause = "p2";
        chip2.appendChild(cb2);
        chip2.append(col.title);
        togglesP2.appendChild(chip2);
      });

      togglesP1.addEventListener("change", e => {
        const cb = e.target;
        if (cb.tagName.toLowerCase() !== "input") return;
        const key = cb.dataset.key;
        activeP1[key] = cb.checked;
        render();
      });

      togglesP2.addEventListener("change", e => {
        const cb = e.target;
        if (cb.tagName.toLowerCase() !== "input") return;
        const key = cb.dataset.key;
        activeP2[key] = cb.checked;
        render();
      });

      enableP2.addEventListener("change", () => {
        const on = enableP2.checked;
        if (on) {
          titleP2.classList.remove("hidden");
          tableP2.classList.remove("hidden");
        } else {
          titleP2.classList.add("hidden");
          tableP2.classList.add("hidden");
        }
      });

      resetBtn.addEventListener("click", () => {
        Array.from(togglesP1.querySelectorAll("input")).forEach(cb => {
          cb.checked = true;
          activeP1[cb.dataset.key] = true;
        });
        Array.from(togglesP2.querySelectorAll("input")).forEach(cb => {
          cb.checked = true;
          activeP2[cb.dataset.key] = true;
        });
        render();
      });
    }

    function renderClauseRow(container, activeMap) {
      container.innerHTML = "";
      columns.forEach(col => {
        const colDiv = document.createElement("div");
        colDiv.className = "col";

        if (!activeMap[col.key]) {
          colDiv.classList.add("dimmed");
        }

        const header = document.createElement("div");
        header.className = "col-header";
        header.textContent = col.title + (col.ko ? ` (${col.ko})` : "");
        colDiv.appendChild(header);

        const label = document.createElement("div");
        label.className = "col-body-label";
        label.textContent = col.hint || "";
        colDiv.appendChild(label);

        const main = document.createElement("div");
        main.className = "col-body-main";
        main.textContent = col.data[index] || "";
        colDiv.appendChild(main);

        const extra = document.createElement("div");
        extra.className = "col-body-extra";
        extra.textContent = "";
        colDiv.appendChild(extra);

        container.appendChild(colDiv);
      });
    }

    function render() {
      renderClauseRow(tableP1, activeP1);
      if (enableP2.checked) {
        renderClauseRow(tableP2, activeP2);
      }
      pageInfoEl.textContent = `Pagina ${index + 1} / ${maxLen}`;
      prevBtn.disabled = index === 0;
      nextBtn.disabled = index === maxLen - 1;
    }

    prevBtn.addEventListener("click", () => {
      if (index > 0) {
        index -= 1;
        render();
      }
    });

    nextBtn.addEventListener("click", () => {
      if (index < maxLen - 1) {
        index += 1;
        render();
      }
    });

    // init
    createToggleChips();
    render();
  </script>
</body>
</html>
