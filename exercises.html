<!doctype html>
<html lang="ro">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Raluca Korean — Exercises</title>

<style>
*{box-sizing:border-box}
body{
  margin:0;
  font-family:system-ui,-apple-system,Segoe UI,Roboto;
  background:#f7f3ff;
  color:#1b1630;
}
.app{max-width:900px;margin:0 auto;padding:16px}
.card{
  background:#fff;
  border-radius:18px;
  padding:18px;
  box-shadow:0 12px 30px rgba(0,0,0,.1);
  margin-bottom:16px;
}
h1{margin:0;font-size:20px}
.sub{font-size:13px;color:#666;margin-top:4px}
select{
  width:100%;
  padding:10px;
  border-radius:12px;
  border:1px solid #ccc;
  font-size:15px;
}
.question{font-size:22px;font-weight:800;margin-bottom:6px}
.helper{font-size:13px;color:#666;margin-bottom:14px}
.answers{display:grid;gap:10px;margin-bottom:14px}
.answer{
  padding:12px;border-radius:14px;border:2px solid #ddd;
  background:#fafafa;font-weight:700;cursor:pointer;
}
.answer.selected{background:#e8ddff;border-color:#9b7cff}
.answer.correct{background:#d1fae5;border-color:#10b981}
.answer.wrong{background:#fee2e2;border-color:#ef4444}
.feedback{min-height:24px;font-weight:700}
.controls{display:flex;gap:10px;margin-top:10px}
button{
  padding:10px 14px;border-radius:999px;
  border:1px solid #ccc;background:#fff;font-weight:800;cursor:pointer;
}
.primary{background:#8b5cf6;color:#fff;border:none}

/* PUZZLE */
.puzzle-bank,.puzzle-line{
  border:2px dashed #ddd;border-radius:14px;
  padding:10px;min-height:52px;
  display:flex;gap:8px;flex-wrap:wrap;
}
.chip{
  padding:8px 12px;border-radius:999px;
  background:#f0f0ff;border:1px solid #aaa;
  font-weight:800;cursor:pointer;
}
</style>
</head>

<body>
<div class="app">

<div class="card">
  <h1>Exerciții TOPIK</h1>
  <div class="sub">Quiz · Particule · Conjugări · Puzzle</div>
</div>

<div class="card">
  <label><b>Tip exercițiu</b></label>
  <select id="type">
    <option value="ko-ro">KO → RO</option>
    <option value="ro-ko">RO → KO</option>
    <option value="particle">Particulă (1)</option>
    <option value="particlePlus">Particule multiple</option>
    <option value="conjug">Conjugare</option>
    <option value="puzzle">Puzzle</option>
  </select>
</div>

<div class="card">
  <div class="question" id="question"></div>
  <div class="helper" id="helper"></div>

  <div class="answers" id="answers"></div>

  <div id="puzzleUI" style="display:none">
    <div class="puzzle-bank" id="bank"></div>
    <div class="puzzle-line" id="line"></div>
  </div>

  <div class="feedback" id="feedback"></div>

  <div class="controls">
    <button class="primary" id="check">Verifică</button>
    <button id="next">Următorul</button>
  </div>
</div>

</div>

<script>
/* ===== DATE ===== */
const DATA = {
  koRo:[
    {q:"저는 학생이에요.",a:"Eu sunt student."},
    {q:"커피를 마셔요.",a:"Beau cafea."}
  ],
  roKo:[
    {q:"Eu merg la școală.",a:"저는 학교에 가요."},
    {q:"Azi studiez.",a:"오늘 공부해요."}
  ],
  particle:[
    {q:"저__ 학생이에요.",opts:["은","는","이","가"],a:"는"}
  ],
  particlePlus:[
    {q:"저__ 학교__ 가요.",opts:["은","는","에","에서"],a:["는","에"]}
  ],
  conjug:[
    {q:"먹다 → prezent politicos",opts:["먹어요","먹어요?","먹습니다"],a:"먹어요"}
  ],
  puzzle:[
    {w:["저는","학교에","가요"],a:"저는 학교에 가요"}
  ]
};

let type="ko-ro",i=0,selected=null,built=[];

const q=document.getElementById("question"),
h=document.getElementById("helper"),
a=document.getElementById("answers"),
f=document.getElementById("feedback"),
bank=document.getElementById("bank"),
line=document.getElementById("line"),
pUI=document.getElementById("puzzleUI");

function clear(){
  a.innerHTML="";f.textContent="";
  selected=null;built=[];
  pUI.style.display="none";
}

function render(){
  clear();
  const d=DATA[type][i%DATA[type].length];

  if(type==="ko-ro"||type==="ro-ko"){
    q.textContent=d.q;
    h.textContent="Alege varianta corectă";
    const opts=[d.a,"GREȘIT 1","GREȘIT 2"].sort(()=>Math.random()-.5);
    opts.forEach(o=>{
      const el=document.createElement("div");
      el.className="answer";
      el.textContent=o;
      el.onclick=()=>select(el,o===d.a);
      a.appendChild(el);
    });
  }

  if(type==="particle"||type==="conjug"){
    q.textContent=d.q;
    h.textContent="Alege corect";
    d.opts.forEach(o=>{
      const el=document.createElement("div");
      el.className="answer";
      el.textContent=o;
      el.onclick=()=>select(el,o===d.a);
      a.appendChild(el);
    });
  }

  if(type==="particlePlus"){
    q.textContent=d.q;
    h.textContent="Alege toate corect";
    d.opts.forEach(o=>{
      const el=document.createElement("div");
      el.className="answer";
      el.onclick=()=>toggle(el,o,d.a);
      el.textContent=o;
      a.appendChild(el);
    });
  }

  if(type==="puzzle"){
    q.textContent="Ordonează propoziția";
    pUI.style.display="block";
    d.w.forEach(w=>{
      const c=document.createElement("div");
      c.className="chip";c.textContent=w;
      c.onclick=()=>{built.push(w);drawPuzzle(d)};
      bank.appendChild(c);
    });
  }
}

function select(el,ok){
  if(selected)return;
  selected=true;
  el.classList.add(ok?"correct":"wrong");
  f.textContent=ok?"✅ Corect":"❌ Greșit";
}

function toggle(el,val,ans){
  el.classList.toggle("selected");
}

function drawPuzzle(d){
  bank.innerHTML="";line.innerHTML="";
  built.forEach(w=>{
    const c=document.createElement("div");
    c.className="chip";c.textContent=w;
    line.appendChild(c);
  });
}

document.getElementById("type").onchange=e=>{
  type=e.target.value;i=0;render();
};
document.getElementById("next").onclick=()=>{i++;render();};
document.getElementById("check").onclick=()=>{
  if(type==="puzzle"){
    const d=DATA.puzzle[i%DATA.puzzle.length];
    f.textContent=built.join(" ")===d.a?"✅ Corect":"❌ Greșit";
  }
};

render();
</script>
</body>
</html>
