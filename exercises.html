<!doctype html>
<html lang="ro">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Raluca Korean ‚Äî Exercises</title>

<link rel="stylesheet" href="style.css">

<style>
/* ================= CORE LAYOUT ================= */
body.pastel-theme{
  margin:0;
  font-family:system-ui,-apple-system,Segoe UI,Roboto;
}
.app{max-width:960px;margin:0 auto;padding:18px 14px 90px}

/* ================= HEADER ================= */
.rk-header{
  padding:14px 18px;
  border-radius:26px;
  background:linear-gradient(120deg,#6fb8ff,#a774ff,#ff7fd1);
  color:#fff;
  box-shadow:0 18px 40px rgba(80,90,200,.45);
}
.rk-header h1{
  margin:0;
  font-size:20px;
  font-weight:900;
  letter-spacing:.06em;
}
.rk-header p{margin:4px 0 0;font-size:12px;opacity:.9}

/* ================= CARD ================= */
.card{
  margin-top:16px;
  padding:18px;
  border-radius:26px;
  background:radial-gradient(circle at top left,#fff,#f6f0ff 60%,#ffe9ff);
  box-shadow:0 18px 40px rgba(90,90,180,.25);
}
.card h2{
  margin:0 0 10px;
  font-size:16px;
  font-weight:800;
}

/* ================= EXERCISES ================= */
.ex-type-row{
  display:flex;
  justify-content:space-between;
  gap:10px;
  margin-bottom:12px;
}
.ex-type-chip{
  font-size:11px;
  padding:4px 10px;
  border-radius:999px;
  background:#e7ddff;
  font-weight:600;
}
select{
  border-radius:999px;
  padding:6px 12px;
  font-weight:600;
}

.exercise-box{
  margin-top:12px;
  padding:16px;
  border-radius:22px;
  background:#fff;
  box-shadow:0 10px 24px rgba(70,70,140,.18);
}
.exercise-question{
  font-size:16px;
  font-weight:700;
}
.exercise-question.empty{
  color:#777;
  font-weight:400;
}

.exercise-options{
  margin-top:10px;
  display:flex;
  flex-direction:column;
  gap:8px;
}
.exercise-options button{
  border:none;
  border-radius:16px;
  padding:8px 12px;
  font-weight:600;
  cursor:pointer;
  background:linear-gradient(135deg,#8fa8ff,#c38cff);
  color:#fff;
}
.exercise-options button.bad{background:#ff6b6b}
.exercise-options button.good{background:#3ddc97}

.exercise-actions{
  margin-top:10px;
  display:flex;
  justify-content:flex-end;
  gap:10px;
}
.exercise-feedback{
  margin-top:6px;
  font-size:13px;
}

/* ================= PUZZLE ================= */
.ex-pz-bank,.ex-pz-line{
  display:flex;
  flex-wrap:wrap;
  gap:6px;
}
.ex-chip{
  border:none;
  padding:6px 10px;
  border-radius:14px;
  font-weight:600;
  cursor:pointer;
  background:#ece7ff;
}
.ex-chip.active{
  background:#8fd3ff;
  color:#fff;
}

/* ================= NAV ================= */
.bottom-nav{
  position:fixed;
  left:0;right:0;bottom:0;
  display:flex;
  justify-content:space-around;
  padding:10px;
  background:linear-gradient(120deg,#f3e6ff,#ffe8fb);
  border-radius:24px 24px 0 0;
}
.nav-btn{
  border:none;
  background:none;
  font-weight:600;
  cursor:pointer;
}
.nav-btn.active{color:#6b5cff}
</style>
</head>

<body class="pastel-theme">
<div class="app">

<header class="rk-header">
  <h1>Raluca Korean</h1>
  <p>Exerci»õii TOPIK ‚Äî Quiz ¬∑ Particule ¬∑ ConjugƒÉri ¬∑ Puzzle</p>
</header>

<div class="card">
<h2>Exerci»õii TOPIK</h2>

<div class="ex-type-row">
  <span class="ex-type-chip" id="typeLabel"></span>
  <select id="exerciseType">
    <option value="verb">Quiz KO ‚Üí RO</option>
    <option value="particle">ParticulƒÉ simplƒÉ</option>
    <option value="particlePlus">Particule multiple</option>
    <option value="conjug">Conjugare</option>
    <option value="puzzle">üß© Puzzle</option>
  </select>
</div>

<div class="exercise-box">
  <div class="exercise-question empty" id="question">
    Alege tipul »ôi apasƒÉ ‚Äû√éntrebare nouƒÉ‚Äù.
  </div>
  <div class="exercise-options" id="options"></div>
  <div class="exercise-actions">
    <button id="checkBtn">VerificƒÉ</button>
    <button id="nextBtn">√éntrebare nouƒÉ</button>
  </div>
  <div class="exercise-feedback" id="feedback"></div>
</div>
</div>

<nav class="bottom-nav">
  <button class="nav-btn" onclick="location.href='builder.html'">üèó Builder</button>
  <button class="nav-btn active">üìù Exerci»õii</button>
  <button class="nav-btn" onclick="location.href='lessons.html'">üìó Lec»õii</button>
  <button class="nav-btn" onclick="location.href='glossary.html'">üìö Glosar</button>
</nav>

</div>

<script src="topik4_quiz_particles_500.js"></script>
<script>
/* ================= DATA ================= */
const QUIZ = window.TOPIK4_QUIZ_500 || [];
const PARTICLES = window.TOPIK4_PARTICLES_500 || [];
const PUZZLES = QUIZ.map(q=>{
  const w=q.ko.replace(/[.?!]/g,'').split(' ');
  return {words:w,answer:q.ko,ro:q.ro};
});

/* ================= STATE ================= */
let current=null;

/* ================= ELEMENTS ================= */
const typeSel=document.getElementById("exerciseType");
const qEl=document.getElementById("question");
const optEl=document.getElementById("options");
const fbEl=document.getElementById("feedback");
const labelEl=document.getElementById("typeLabel");

/* ================= HELPERS ================= */
function shuffle(a){return a.sort(()=>Math.random()-.5)}
function clear(){
  optEl.innerHTML="";
  fbEl.textContent="";
}

/* ================= RENDER ================= */
function render(){
clear();
const t=typeSel.value;

if(t==="verb"){
  labelEl.textContent="Quiz traducere";
  const q=QUIZ[Math.floor(Math.random()*QUIZ.length)];
  qEl.innerHTML="<b>"+q.ko+"</b>";
  shuffle([q.ro,...shuffle(QUIZ).slice(0,3).map(x=>x.ro)]).forEach(o=>{
    const b=document.createElement("button");
    b.textContent=o;
    b.onclick=()=>{
      b.classList.add(o===q.ro?"good":"bad");
      fbEl.textContent=o===q.ro?"‚úÖ Corect":"‚ùå Corect: "+q.ro;
    };
    optEl.appendChild(b);
  });
}

if(t==="particle"){
  labelEl.textContent="ParticulƒÉ";
  const q=PARTICLES[Math.floor(Math.random()*PARTICLES.length)];
  qEl.innerHTML="<b>"+q.text+"</b>";
  q.choices.forEach(o=>{
    const b=document.createElement("button");
    b.textContent=o;
    b.onclick=()=>{
      b.classList.add(o===q.answer?"good":"bad");
      fbEl.textContent=o===q.answer?"‚úÖ Corect":"‚ùå "+q.answer;
    };
    optEl.appendChild(b);
  });
}

if(t==="puzzle"){
  labelEl.textContent="Puzzle propozi»õie";
  const p=PUZZLES[Math.floor(Math.random()*PUZZLES.length)];
  qEl.textContent="Construie»ôte propozi»õia:";
  let built=[];
  const bank=document.createElement("div");
  bank.className="ex-pz-bank";
  const line=document.createElement("div");
  line.className="ex-pz-line";

  function draw(){
    bank.innerHTML="";line.innerHTML="";
    shuffle(p.words.filter(w=>!built.includes(w))).forEach(w=>{
      const c=document.createElement("button");
      c.className="ex-chip";
      c.textContent=w;
      c.onclick=()=>{built.push(w);draw()};
      bank.appendChild(c);
    });
    built.forEach((w,i)=>{
      const c=document.createElement("button");
      c.className="ex-chip active";
      c.textContent=w;
      c.onclick=()=>{built.splice(i,1);draw()};
      line.appendChild(c);
    });
  }
  draw();
  optEl.append(bank,line);
  current={check:()=>built.join(" ")===p.answer,ro:p.ro,ans:p.answer};
}

}

document.getElementById("nextBtn").onclick=render;
document.getElementById("checkBtn").onclick=()=>{
  if(current){
    fbEl.textContent=current.check()
      ?"‚úÖ Corect ("+current.ro+")"
      :"‚ùå Corect: "+current.ans;
  }
};

render();
</script>
</body>
</html>
